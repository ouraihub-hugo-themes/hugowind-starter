{{- define "main" }}
<section class="px-4 sm:px-6 py-12 sm:py-16 lg:py-20 mx-auto max-w-7xl">
  {{- /* 页面标题区域 */ -}}
  <header class="mb-12 md:mb-16 text-center">
    {{- if .IsSection }}
    <p class="text-base text-secondary dark:text-blue-200 font-bold tracking-wide uppercase mb-2">
      {{ i18n "blog_tagline" | default "Blog" }}
    </p>
    {{- end }}
    <h1 class="text-4xl md:text-5xl font-bold leading-tighter tracking-tighter font-heading dark:text-slate-200">
      {{ .Title }}
    </h1>
    {{- with .Description }}
    <p class="mt-4 text-xl text-muted dark:text-slate-400 max-w-3xl mx-auto">
      {{ . }}
    </p>
    {{- end }}
  </header>
  
  {{- /* 分类/标签筛选区域 - 仅在 posts section 显示 */ -}}
  {{- if and .IsSection (eq .Section "posts") }}
  <div class="mb-8 flex flex-wrap justify-center gap-2">
    {{- range $taxonomy := slice "categories" "tags" }}
    {{- with site.Taxonomies }}
    {{- with index . $taxonomy }}
    {{- range $name, $items := . }}
    {{- if gt (len $items) 0 }}
    <a href="{{ printf "/%s/%s/" $taxonomy ($name | urlize) | relLangURL }}" 
       class="inline-block px-3 py-1 text-sm bg-gray-100 dark:bg-slate-700 text-muted dark:text-slate-300 hover:text-primary dark:hover:text-blue-400 rounded-full transition">
      {{ $name }}
      <span class="text-xs text-gray-500 dark:text-slate-500">({{ len $items }})</span>
    </a>
    {{- end }}
    {{- end }}
    {{- end }}
    {{- end }}
    {{- end }}
  </div>
  {{- end }}
  
  {{- /* 文章列表 */ -}}
  {{- $pages := .Pages }}
  {{- if .IsHome }}
  {{- $pages = where site.RegularPages "Section" "posts" }}
  {{- end }}
  
  {{- if gt (len $pages) 0 }}
  <div class="grid gap-6 md:gap-8 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
    {{- range $pages }}
    {{ partial "blog/post-card.html" . }}
    {{- end }}
  </div>
  
  {{- /* 分页 */ -}}
  {{ partial "blog/pagination.html" . }}
  {{- else }}
  {{- /* 无文章提示 */ -}}
  <div class="text-center py-12">
    <p class="text-xl text-muted dark:text-slate-400">
      {{ i18n "no_posts" | default "No posts found." }}
    </p>
  </div>
  {{- end }}
</section>
{{- end }}
